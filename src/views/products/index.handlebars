{{! views/products/index.handlebars }}
<main class="container">
  <section class="products-grid">
    {{#if products.length}}
      {{#each products}}
        <div class="product-card">
          <h2>{{this.title}}</h2>
          <div class="body">
            <p><strong>Precio:</strong> ${{this.price}}</p>
            <p><strong>Categoría:</strong> {{this.category}}</p>
          </div>
          <div class="footer">
            <a class="btn" href="/view/products/{{this._id}}">Detalle</a>
            <button class="btn add-to-cart" data-pid="{{this._id}}">
              Agregar
            </button>
          </div>
        </div>
      {{/each}}
    {{else}}
      <p>No hay productos disponibles.</p>
    {{/if}}
  </section>

  {{! Paginación }}
  <nav class="pagination">
    {{#if pagination.hasPrevPage}}
      <a href="{{pagination.prevLink}}" class="btn">&laquo; Anterior</a>
    {{/if}}
    <span> Página {{pagination.page}} de {{pagination.totalPages}} </span>
    {{#if pagination.hasNextPage}}
      <a href="{{pagination.nextLink}}" class="btn">Siguiente &raquo;</a>
    {{/if}}
</nav>
</main>
